<!DOCTYPE html>
<html>

<head>
    <title>lcscodes</title>
    <!-- <link rel="stylesheet" href="../style.css"> -->
    <script type="text/javascript" src="../include_html.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
</head>

<body>
    <div w3-include-html="../menu.html"></div>
    <!-- <div w3-include-html="../menu.html"></div>

    <section id="get-started-ci3">
        <h2>Get Started Codeigniter 3</h2>
        <p>download at <a href="https://www.codeigniter.com/download">https://www.codeigniter.com/download</a></p>
        <p>//setting file config.php <br> $config['base_url'] = 'https://localhost/namaAplikasi/'; </p>
        <p>//setting file autoload.php <br> $autoload['libraries'] = array('session', 'database'); <br> $autoload['helper'] = array('url'); </p>
        <p>//setting file routes.php <br> $route['default_controller'] = 'auth/login'; </p>
        <p>//setting file database.php <br> 'hostname' => 'localhost', <br> 'username' => 'root', <br> 'password' => '', <br> 'database' => 'dbname', <br> 'dbdriver' => 'mysqli', //mysqli/mysql </p>
        <p>//buat file .htaccess di folder root <br> RewriteEngine On <br> RewriteCond %{REQUEST_FILENAME} !-f <br> RewriteCond %{REQUEST_FILENAME} !-d <br> RewriteRule ^(.*)$ index.php/$1 [L] </p>

    </section>

    <section id="active-record">
        <h2>Active Record CI</h2>
        <pre><code contenteditable spellcheck="false">
  private $_table = "kunjungan";

  public $kunjungan_id;
  public $kunjungan_tgl;
  public $user_id;
  public $pelanggan_id;
  public $produk_id;
  public $hasil;

  public function getAll()
  {
    $this->db->select('a.*,usr.nama petugas_nama,plg.nama pelanggan_nama,prd.produk_nama');
    $this->db->from($this->_table . ' a');
    $this->db->join('users usr', 'usr.user_id = a.user_id');
    $this->db->join('pelanggan plg', 'plg.pelanggan_id = a.pelanggan_id');
    $this->db->join('produk prd', 'prd.produk_id = a.produk_id');
    return $this->db->get()->result();
  }

  public function getById($id)
  {
    $this->db->select('a.*,usr.nama petugas_nama,plg.nama pelanggan_nama,prd.produk_nama');
    $this->db->from($this->_table . ' a');
    $this->db->join('users usr', 'usr.user_id = a.user_id');
    $this->db->join('pelanggan plg', 'plg.pelanggan_id = a.pelanggan_id');
    $this->db->join('produk prd', 'prd.produk_id = a.produk_id');
    $this->db->where('a.kunjungan_id', $id);
    return $this->db->get()->row();
  }

  public function save()
  {
    $post = $this->input->post();
    $this->kunjungan_tgl = $post["kunjungan_tgl"];
    $this->user_id = $post["user_id"];
    $this->pelanggan_id = $post["pelanggan_id"];
    $this->produk_id = $post["produk_id"];
    $this->hasil = $post["hasil"];
    return $this->db->insert($this->_table, $this);
  }

  public function update()
  {
    $post = $this->input->post();
    $this->kunjungan_id = $post["id"];
    $this->kunjungan_tgl = $post["kunjungan_tgl"];
    $this->user_id = $post["user_id"];
    $this->pelanggan_id = $post["pelanggan_id"];
    $this->produk_id = $post["produk_id"];
    $this->hasil = $post["hasil"];
    return $this->db->update($this->_table, $this, array('kunjungan_id' => $post['id']));
  }

  public function delete($id)
  {
    return $this->db->delete($this->_table, array("kunjungan_id" => $id));
  }

  $insert_id=$this->db->insert_id();
        </code></pre>
    </section>

    <hr> -->

</body>

</html>

<script>
    includeHTML();
</script>